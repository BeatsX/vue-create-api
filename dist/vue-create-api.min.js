/**
 * vue-create-api v1.0.0
 * (c) 2018 ustbhuangyi
 * @license MIT
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.VueCreateAPI=n()}(this,function(){"use strict";var w=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},n=/-(\w)/g;function c(e){return(e+"").replace(n,function(e,n){return n?n.toUpperCase():""})}function g(e){return void 0===e}function P(){var n,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};n={},r.forEach(function(e){n[e]=c("on-"+e)}),r=n;var t=w({},e),o={};for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];t[a]&&(o[i]=t[a],delete t[a])}return{props:t,on:o}}var b="hook:beforeDestroy";function f(d){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],h=2<arguments.length&&void 0!==arguments[2]&&arguments[2],_=this,y={},$=[];function m(n,r,e,t){$.forEach(function(e){e(n,r,t)});var o=e.parent?e.parent._uid:-1,i=y[o]?y[o]:{},a=i.comp,u=i.ins;if(t&&a&&u)return u.updateRenderData(n,r),u.$forceUpdate(),a;var c=function(e,r,n,t,o){var i=void 0,a=void 0,u=new e(w({},o,{render:function(e){var n=a&&a(e);return n&&!Array.isArray(n)&&(n=[n]),e(r,w({},i),n||[])},methods:{init:function(){document.body.appendChild(this.$el)},destroy:function(){this.$destroy(),document.body.removeChild(this.$el)}}}));u.updateRenderData=function(e,n){i=e,a=n},u.updateRenderData(n,t),u.$mount(),u.init();var c=u.$children[0];return c.$updateProps=function(e){w(i.props,e),u.$forceUpdate()},c}(_,d,n,r,e),f=c.$parent,p=c.remove;c.remove=function(){if(t){if(!y[o])return;y[o]=null}p&&p.call(this),f.destroy()};var s=c.show;c.show=function(){return s&&s.call(this),this};var v=c.hide;return c.hide=function(){return v&&v.call(this),this},t&&(y[o]={comp:c,ins:f}),c}return{before:function(e){$.push(e)},create:function(e,n,r){"function"!=typeof n&&g(r)&&(r=n,n=null),g(r)&&(r=h);var t=this,o=!!t.$on,i={};o&&((i.parent=t).__unwatchFns__||(t.__unwatchFns__=[]));var a,u,c,f,p,s=P(e,l),v=null;return function(t,r,e,n){var o=r.props.$props;if(o){delete r.props.$props;var i=[],a=[];if(Object.keys(o).forEach(function(e){var n=o[e];"string"==typeof n&&n in t?(r.props[e]=t[n],i.push(e),a.push(n)):r.props[e]=n}),e){var u=t.$watch(function(){var r={};return i.forEach(function(e,n){r[e]=t[a[n]]}),r},n);t.__unwatchFns__.push(u)}}}(t,s,o,function(e){v&&v.$updateProps(e)}),u=t,(c=(a=s).props.$events)&&(delete a.props.$events,Object.keys(c).forEach(function(e){var n=c[e];"string"==typeof n&&(n=u[n]),a.on[e]=n})),p=(f=s).props,Object.keys(p).forEach(function(e){"$"===e.charAt(0)&&(f[e.slice(1)]=p[e],delete p[e])}),v=m(s,n,i,r),o&&t.$on(b,function(){e=t,e.__unwatchFns__&&(e.__unwatchFns__.forEach(function(e){e()}),e.__unwatchFns__=null),v.remove(),v=null;var e}),v}}}var o=!1;return{install:function(i){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(o)return e="[vue-create-api] already installed. Vue.use(CreateAPI) should be called only once.",void console.error("[vue-create-api warn]: "+e);o=!0;var r=n.componentPrefix,a=void 0===r?"":r,t=n.apiPrefix,u=void 0===t?"$create-":t;i.createAPI=function(e,n,r){"boolean"==typeof n&&(r=n,n=[]);var t=f.call(this,e,n,r),o=function(e,n){var r=n.componentPrefix,t=n.apiPrefix,o=e.name;!function(e,n){if(!e)throw new Error("[vue-create-api error]: "+n)}(o,"Component must have name while using create-api!");var i,a=new RegExp("^"+(r+"").replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\"+(i||"")+"-]","g"),"\\$&"),"i"),u=o.replace(a,"");return""+c(""+t+u)}(e,{componentPrefix:a,apiPrefix:u});return i.prototype[o]=e.$create=t.create,t}},version:"1.0.0"}});