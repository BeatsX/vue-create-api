/**
 * vue-create-api v1.0.0
 * (c) 2018 ustbhuangyi
 * @license MIT
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.VueCreateAPI=n()}(this,function(){"use strict";var n=/-(\w)/g;function u(e){return(e+"").replace(n,function(e,n){return n?n.toUpperCase():""})}function w(e){return void 0===e}function b(e,n){var t;void 0===e&&(e={}),void 0===n&&(n={}),t={},n.forEach(function(e){t[e]=u("on-"+e)}),n=t;var r=Object.assign({},e),o={};for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];r[a]&&(o[i]=r[a],delete r[a])}return{props:r,on:o}}function p(h,v,l){void 0===v&&(v=[]),void 0===l&&(l=!1);var _=this,$={},m=[];function y(n,t,e,r){m.forEach(function(e){e(n,t,r)});var o=e.parent?e.parent._uid:-1,i=$[o]?$[o]:{},a=i.comp,c=i.ins;if(r&&a&&c)return c.updateRenderData(n,t),c.$forceUpdate(),a;var u=function(e,t,n,r,o){var i,a,c=new e(Object.assign({},o,{render:function(e){var n=a&&a(e);return n&&!Array.isArray(n)&&(n=[n]),e(t,Object.assign({},i),n||[])},methods:{init:function(){document.body.appendChild(this.$el)},destroy:function(){this.$destroy(),document.body.removeChild(this.$el)}}}));c.updateRenderData=function(e,n){i=e,a=n},c.updateRenderData(n,r),c.$mount(),c.init();var u=c.$children[0];return u.$updateProps=function(e){Object.assign(i.props,e),c.$forceUpdate()},u}(_,h,n,t,e),p=u.$parent,f=u.remove;u.remove=function(){f&&f.call(this),p.destroy(),r&&($[o]=null)};var s=u.show;u.show=function(){return s&&s.call(this),this};var d=u.hide;return u.hide=function(){return d&&d.call(this),this},r&&($[o]={comp:u,ins:p}),u}return{before:function(e){m.push(e)},create:function(e,n,t){"function"!=typeof n&&w(t)&&(t=n,n=null),w(t)&&(t=l);var r=this,o=!!r.$on,i={};o&&((i.parent=r).__unwatchFns__||(r.__unwatchFns__=[]));var a,c,u,p,f,s=b(e,v),d=null;return function(r,t,e,n){var o=t.props.$props;if(o){delete t.props.$props;var i=[],a=[];if(Object.keys(o).forEach(function(e){var n=o[e];"string"==typeof n&&n in r?(t.props[e]=r[n],i.push(e),a.push(n)):t.props[e]=n}),e){var c=r.$watch(function(){var t={};return i.forEach(function(e,n){t[e]=r[a[n]]}),t},n);r.__unwatchFns__.push(c)}}}(r,s,o,function(e){d&&d.$updateProps(e)}),c=r,(u=(a=s).props.$events)&&(delete a.props.$events,Object.keys(u).forEach(function(e){var n=u[e];"string"==typeof n&&(n=c[n]),a.on[e]=n})),f=(p=s).props,Object.keys(f).forEach(function(e){"$"===e.charAt(0)&&(p[e.slice(1)]=f[e],delete f[e])}),d=y(s,n,i,t),o&&r.$on("hook:beforeDestroy",function(){e=r,e.__unwatchFns__&&(e.__unwatchFns__.forEach(function(e){e()}),e.__unwatchFns__=null),d.remove(),d=null;var e}),d}}}return function(i,e){void 0===e&&(e={});var a=e.componentPrefix;void 0===a&&(a="");var c=e.apiPrefix;void 0===c&&(c="$create-"),i.createAPI=function(e,n,t){"boolean"==typeof n&&(t=n,n=[]);var r=p.call(this,e,n,t),o=function(e,n){var t=n.componentPrefix,r=n.apiPrefix,o=e.name;!function(e,n){if(!e)throw new Error("[create-api error]: "+n)}(o,"Component must have name while using create-api!");var i,a=new RegExp("^"+(t+"").replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\"+(i||"")+"-]","g"),"\\$&"),"i"),c=o.replace(a,"");return""+u(""+r+c)}(e,{componentPrefix:a,apiPrefix:c});return i.prototype[o]=e.$create=r.create,r}}});